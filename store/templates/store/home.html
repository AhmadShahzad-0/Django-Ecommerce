{% extends 'store/base.html' %}

{% block content %}
{% load static %}
<!-- Header
    <header class="bg-dark py-5">
        <div class="container px-4 px-lg-5 my-5">
            <div class="text-center text-white">
                <h1 class="display-4 fw-bolder">Ecommerce</h1>
                <p class="lead fw-normal text-white-50 mb-0">Homepage..</p>
            </div>
        </div>
    </header> -->
    
<div id="carouselExample" class="carousel slide" style="height: 90vh; overflow: hidden;">
    <div class="carousel-inner" style="height: 100%;">
        <div class="carousel-item active" style="height: 100%;">
            <img src="{% static 'assets/p2.jpg' %}" class="d-block w-100" alt="..."
                style="height: 100%; object-fit: cover;">
        </div>
        <div class="carousel-item" style="height: 100%;">
            <img src="{% static 'assets/p1.jpeg' %}" class="d-block w-100" alt="..."
                style="height: 100%; object-fit: cover;">
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>


<!-- Section-->
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bolder text-decoration-underline">Our Products</h2>
            <p class="lead text-muted">Discover our exclusive range of products</p>
        </div>
    </div>
    <div class="container px-4 px-lg-5 mt-5">
        <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">

            {% for product in products %}
            <div class="col mb-5">
                <div class="card h-100 border-0 shadow-sm"
                    style="transition: transform 0.3s ease, box-shadow 0.3s ease; border-radius: 1rem; overflow: hidden;"
                    onmouseover="this.style.transform='scale(1.03)'; this.classList.add('shadow-lg')"
                    onmouseout="this.style.transform='scale(1)'; this.classList.remove('shadow-lg')">

                    {% if product.is_on_sale %}
                    <div class="badge bg-danger text-white position-absolute"
                        style="top: 0.75rem; right: 0.75rem; font-size: 0.8rem; padding: 0.5em 0.75em; border-radius: 0.5rem;">
                        Sale
                    </div>
                    {% endif %}

                    <!-- Product image -->
                    <img class="card-img-top" src="{{ product.image.url }}" alt="{{ product.name }}"
                        style="height: 250px; object-fit: cover;" />

                    <!-- Product details -->
                    <div class="card-body px-4 pt-3 pb-2 text-center">
                        <h5 class="fw-bold mb-2" style="font-size: 1.1rem;">{{ product.name }}</h5>

                        {% if product.is_on_sale %}
                        <div>
                            <span class="text-muted text-decoration-line-through" style="font-size: 0.95rem;">
                                ${{ product.price }}
                            </span>
                            <span class="text-danger fw-semibold ms-2" style="font-size: 1rem;">
                                ${{ product.sale_price }}
                            </span>
                        </div>
                        {% else %}
                        <div class="fw-semibold" style="font-size: 1rem;">${{ product.price }}</div>
                        {% endif %}

                        <small class="text-muted d-block mt-1" style="font-size: 0.85rem;">{{ product.category }}</small>
                    </div>

                    <!-- Product actions -->
                    <div class="card-footer bg-white border-0 text-center pb-4 pt-0">
                        <a class="btn btn-dark px-4 py-2 rounded-pill" href="{% url 'product' product.id %}"
                            style="font-size: 0.9rem;">
                            View Product
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}


        </div>
    </div>
</section>

<div class="container my-5">
  <div class="row shadow-lg rounded-4 overflow-hidden" style="max-height: 700px;">
    
    <!-- Left Image -->
    <div class="col-lg-6 d-none d-lg-block p-0">
      <div style="height: 100%; width: 100%;">
        <img src="{% static 'assets/p3.jpg' %}" 
             alt="Contact Us" 
             style="height: 100%; width: 100%; object-fit: cover;">
      </div>
    </div>

    <!-- Right Form -->
    <div class="col-lg-6 bg-white px-5 py-0 d-flex align-items-center">
      <div style="width: 100%;">
        <h3 class="mb-4 fw-bold">Get in Touch</h3>
        <form>
          <div class="mb-3">
            <label for="name" class="form-label fw-semibold">Your Name</label>
            <input type="text" class="form-control rounded-3" id="name" placeholder="John Doe" required>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label fw-semibold">Email address</label>
            <input type="email" class="form-control rounded-3" id="email" placeholder="name@example.com" required>
          </div>
          <div class="mb-3">
            <label for="subject" class="form-label fw-semibold">Subject</label>
            <input type="text" class="form-control rounded-3" id="subject" placeholder="Let's talk..." required>
          </div>
          <div class="mb-3">
            <label for="message" class="form-label fw-semibold">Message</label>
            <textarea class="form-control rounded-3" id="message" rows="4" placeholder="Write your message here..." required></textarea>
          </div>
          <button type="submit" class="btn btn-dark rounded-pill px-4 py-2">Send Message</button>
        </form>
      </div>
    </div>
    
  </div>
</div>




{% endblock %}